(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return r}});let n=a(8229),l=a(8883),o=a(3063),s=n._(a(1193));function r(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=o.Image},4488:(e,t,a)=>{Promise.resolve().then(a.bind(a,5599))},5599:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var n=a(5155),l=a(6874),o=a.n(l),s=a(1469),r=a.n(s),i=a(2115);let d=e=>{let{products:t,initialCartProducts:a=[]}=e,[l,s]=(0,i.useState)(a);async function d(e){let t=await fetch("http://localhost:3000/api/users/2/cart",{method:"POST",body:JSON.stringify({productId:e}),headers:{"Content-Type":"application/json"}});s(await t.json())}async function c(e){let t=await fetch("http://localhost:3000/api/users/2/cart",{method:"DELETE",body:JSON.stringify({productId:e}),headers:{"Content-Type":"application/json"}});s(await t.json())}return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("ul",{className:"container flex flex-col md:flex-row mt-6 mx-auto w-7xl gap-4 p-8",children:t.map(e=>{var t;return(0,n.jsxs)(o(),{href:"products/".concat(e.id),className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition duration-300",children:[(0,n.jsx)(r(),{src:"/".concat(e.imageUrl),width:300,height:200,alt:e.name,className:"aspect-square object-cover"}),(0,n.jsxs)("div",{className:"product-details mt-6",children:[(0,n.jsx)("h3",{className:"text-2xl font-extrabold text-black",children:e.name}),(0,n.jsxs)("p",{className:"text-black",children:["$",e.price]}),(t=e.id,l.some(e=>e.id===t))?(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",onClick:t=>{t.preventDefault(),c(e.id)},children:"Remove"}):(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",onClick:t=>{t.preventDefault(),d(e.id)},children:"Add to Cart"})]})]},e.id)})})})}}},e=>{e.O(0,[63,874,441,964,358],()=>e(e.s=4488)),_N_E=e.O()}]);